---
title: c++获取本地日期并格式化
date: 2020-08-29 10:43:33
tags: [tip,c++]
---

一些小方法的使用，做此记录

需要包含`#include <ctime>`

#### 获取当前的日期

```
struct tm* stime = localtime(&t);
```


#### 对tm进行格式化，变为字符串

```
char tmp[16] = {0};
strftime(tmp, sizeof(tmp), "%Y%m%d", stime);
```

%Y%m%d表示年月日,例如 20200825

|说明符|	替换为|	实例|
|--- |---|---|
|%a|	缩写的星期几名称|	Sun|
|%A|	完整的星期几名称|	Sunday|
|%b|	缩写的月份名称|	Mar|
|%B|	完整的月份名称|	March|
|%c|	日期和时间表示法	Sun Aug 19 02:56:02| 2012|
|%d|	一月中的第几天（01-31）|	19|
|%H|	24 小时格式的小时（00-23）|	14|
|%I|	12 小时格式的小时（01-12）|	05|
|%j|	一年中的第几天（001-366）|	231|
|%m|	十进制数表示的月份（01-12）|	08|
|%M|	分（00-59）|	55|
|%p|	AM 或 PM 名称|	PM|
|%S|	秒（00-61）|	02|
|%U|	一年中的第几周，以第一个星期日作为第一周的第一天（00-53）|	33|
|%w|	十进制数表示的星期几，星期日表示为 0（0-6）|	4|
|%W|	一年中的第几周，以第一个星期一作为第一周的第一天（00-53）|	34|
|%x|	日期表示法	08/19|/12|
|%X|	时间表示法	02:50|:06|
|%y|	年份，最后两个数字（00-99）|	01|
|%Y|	年份|	2012|
|%Z|	时区的名称或缩写|	CDT|
|%%|	一个 % 符号|	%|

